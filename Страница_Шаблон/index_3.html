<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    </meta>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </meta>
    <title>Задачи с фильтрами</title>
    <style type="text/css">
        /* :root {
         
     } */

        /* подключаем внешний шрифт */
        /*@import url("https://fonts.googleapis.com/css2?family=Inter&display=swap");*/

        /* общие настройки для всего */
        html {
            font-size: 10px;
        }

        body {
            margin: 0;
            font-size: 1.7rem;
            overflow: auto;
        }

        /* Скрываем полосу прокрутки */
        .scrollable-container::-webkit-scrollbar {
            width: 0;
            /* Для вертикальной полосы */
            /*height: 0;*/
            /* Для горизонтальной полосы */
        }

        .wrapper {
            color: #333333;
            font-family: "Inter", sans-serif;
            display: flex;
            flex-direction: column;
        }

        #kanban-board {
            display: flex;
            flex-direction: column;
            position: absolute;
            top: 6rem;
            width: 100%;
        }

        .kanban_header {
            display: flex;
            position: fixed;
            /*width: calc(100% - 1.7rem);*/
            width: 100%;
            z-index: 100;
            min-height: 4rem;
            background-color: #FFFFFF;
        }

        .block_header {
            display: flex;
            align-items: center;
            width: 30.5%;
            border-top-left-radius: 1rem;
            border-top-right-radius: 1rem;
            margin-right: .5rem;
            background-color: rgb(247, 246, 246);
            padding: 0.6rem;
        }

        .block_header:first-child {
            margin-left: .5rem;
        }

        .kanban_body {
            display: flex;
            position: absolute;
            width: 100%;
            top: 4rem;
            min-height: 91vh;
        }

        .kanban-block {
            padding: 0.6rem;
            width: 30.5%;
            margin-right: .5rem;
            background-color: rgb(247, 246, 246);
        }

        .kanban-block:first-child {
            margin-left: .5rem;
        }

        /* чекбоксы */
        /* скрываем флажок у чекбокса */
        input[type="checkbox"] {
            display: none;
        }

        .checkboxes {
            display: flex;
            flex-direction: row;
        }

        /* общие настройки для тегов */
        .tag {
            /* внешние отступы */
            padding: .6rem 1.2rem;
            max-height: 2.5rem;
            /* подгоняем размер блока под содержимое */
            width: -webkit-fit-content;
            width: -moz-fit-content;
            width: fit-content;
            /* радиус скругления */
            border-radius: 999rem;
            /* отступ сверху */
            margin-top: 1.2rem;
            margin-bottom: 1.2rem;
            /* запрещаем выделять мышкой этот элемент */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            /* user-select: none; */
            background-color: lightgrey;
        }

        /* добавляем хештег перед тегом */
        .tag::before {
            /* добавляем текст, отступ и прозрачность */
            content: "#";
            margin-right: .2rem;
            opacity: 0.3;
        }

        .tag_task {
            width: 2rem;
            height: 2rem;
        }

        /* чекбоксы */

        /* КАРТОЧКИ */
        /* настройки карточки */
        .card {
            /* цвет фона */
            background-color: #ffffff;
            /* граница */
            border: 1px solid #ebebeb;
            /* рисуем границу по периметру карточки */
            /* межстрочное расстояние */
            line-height: 1.5;
            /* радиус скругления */
            border-radius: .8rem;
            /* рисуем тень */
            box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 4px;
            /* скрываем всё, что не помещается в блок */
            /* overflow: hidden; */
            /* включаем гибкую вёрстку */
            display: flex;
            /* организуем вёрстку по столбцам */
            flex-direction: column;
            /* выравниваем карточки по центру друг относительно друга */
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            padding: .5rem;
            animation: fadeInOut 0.5s ease-in-out;
        }

        /* меняем цвет рамки карточки при наведении */
        .card:hover {
            /*border: .12rem solid #2E9AFF;*/
            background-color: lightgrey;
        }

        @keyframes fadeInOut {
            0% {
                opacity: 0;
                display: none;
            }

            50% {
                opacity: 0.5;
                display: flex;
            }

            100% {
                opacity: 1;
                display: flex;
            }
        }

        /* если тег не отмечен */
        .card__inactive {
            /*animation: fadeIn 0.5s ease-in-out;*/
            opacity: 0;
            display: none;
        }

        @keyframes fadeIn {

            0% {
                opacity: 1;
                display: flex;
            }

            50% {
                opacity: 0.5;
                display: flex;
            }

            100% {
                opacity: 0;
                display: none;
            }
        }

        /* КАРТОЧКИ */

        label {
            cursor: pointer;
        }

        /* делаем тег чуть бледнее при наведении */
        label:hover {
            opacity: 0.5;
        }

        /* оставляем тег чуть бледнее при нажатии */
        .tag__inactive {
            opacity: 0.5;
            background-color: rgb(233, 233, 233) !important;
        }

        .kanban-block__name {
            margin-left: 1rem;
            color: rgb(121, 121, 121);
        }

        .kanban-block__number {
            margin-left: 1rem;
            color: rgb(80, 80, 80);
        }

        .card__header {
            display: flex;
            width: 100%;
            justify-content: space-between;
            align-items: start;
        }

        .card__link {
            color: rgb(17, 138, 236);
        }

        .card__photo {
            width: 3.5rem;
            height: 4rem;
            border: 1px solid rgb(184, 194, 196);
        }

        .card__photo:hover {
            background-color: lightgrey;
            transform: scale(1.4);
        }

        .card__text {
            display: flex;
            width: 100%;
        }

        .command_panel {
            display: flex;
            flex-direction: row;
            align-items: center;
            position: fixed;
            z-index: 100;
            width: 100%;
            height: 6rem;
            padding-left: .5rem;
            padding-right: .5rem;
            background-color: white;
            justify-content: start;
        }

        .command_panel_buttons {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
        }

        #update_svg,
        #setup_svg {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 3rem;
            height: 3rem;
            margin-left: 1rem;
            transition: transform 0.4s ease;
            /* Плавное изменение за 0.3 секунды */
        }

        /*Вращаем кнопку обновления на 180 градусов*/
        #update_svg:hover,
        #setup_svg:hover {
            transform: rotate(180deg);
        }

        /*Убираем вращение и увеличиваем кнопку*/
        #update_svg:active,
        #setup_svg:active {
            transform: rotate(-180deg) scale(1.2);
        }

        .my_tasks {
            margin-left: 1rem;
            text-decoration: none;
            color: rgb(17, 50, 236);
        }

        .my_tasks_active {
            text-decoration: underline;
        }

        @media only screen and (max-width: 1450px) {
            body {
                font-size: 1.5rem;
            }

            .card__photo {
                width: 2.5rem;
                height: 3rem;
            }
        }

        @media only screen and (max-width: 1280px) {
            body {
                font-size: 1.3rem;
            }

            .card__photo {
                width: 2rem;
                height: 2.5rem;
            }
        }

        @media only screen and (max-width: 1150px) {
            body {
                font-size: 1.1rem;
            }

            .card__photo {
                width: 1.5rem;
                height: 2rem;
            }
        }

        @media only screen and (max-width: 1010px) {
            body {
                font-size: .9rem;
            }

            .card__photo {
                width: 1rem;
                height: 1.5rem;
            }

            .tag_task {
                width: 1.5rem;
                height: 1.5rem;
            }
        }

        @media only screen and (max-width: 900px) {
            body {
                font-size: .7rem;
            }

            .card__photo {
                min-width: 0.5rem;
                min-height: 1rem;
            }

            .tag_task {
                width: 1rem;
                height: 1rem;
            }
        }

        /* Масштабирование страницы +++ */
        .zoom-controls {
            position: fixed;
            right: 30px;
            background: #8c8c8c ;
            color: white;
            padding: 5px;
            border-radius: 5px;
            font-family: Arial, sans-serif;
            display: flex;
            align-items: center;
            gap: 10px;
            /* Фиксируем размер шрифта */
            font-size: 1.6rem;
        }
        
        .zoom-btn {
            width: 20px;
            height: 20px;
            background: #8c8c8c;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: inherit;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .zoom-btn:hover {
            background: #555;
        }
        
        .zoom-value {
            min-width: 50px;
            text-align: center;
        }
        
    </style>
    <base
        href="v8config://0a8bb6729b7cce4d36611cfdabfaa6de6345db31/mdobject/idd2e72251-d28f-4ee6-983a-a99008a98bd1/8eb4fad1-1fa6-403e-970f-2c12dbb43e23">
    </base>
</head>

<body>
    
    <div class="wrapper">

        <div class="command_panel">

            <!-- Элементы управления масштабом -->
            <div class="zoom-controls">
                <button class="zoom-btn" id="zoom-out">-</button>
                <span class="zoom-value" id="zoom-display">100%</span>
                <button class="zoom-btn" id="zoom-in">+</button>
            </div>

            <div id="checkboxes" class="checkboxes">

                <div class="checkbox"><input type="checkbox" id="project8e7227e2-c296-11ee-93e4-107b4419808b"
                        checked="true" onclick="checkFluency(id, id)"></input><label
                        for="project8e7227e2-c296-11ee-93e4-107b4419808b">
                        <div class="tag project8e7227e2-c296-11ee-93e4-107b4419808b"
                            style="background-color: rgb(238,130,238);">Первый проект</div>
                    </label></div>
                <div class="checkbox"><input type="checkbox" id="project8d9f5c04-ea3a-11ef-9500-107b4419808b"
                        checked="true" onclick="checkFluency(id, id)"></input><label
                        for="project8d9f5c04-ea3a-11ef-9500-107b4419808b">
                        <div class="tag project8d9f5c04-ea3a-11ef-9500-107b4419808b"
                            style="background-color: rgb(204,255,204);">Второй проект</div>
                    </label></div>
                <div class="checkbox"><input type="checkbox" id="project8d9f5c05-ea3a-11ef-9500-107b4419808b"
                        checked="true" onclick="checkFluency(id, id)"></input><label
                        for="project8d9f5c05-ea3a-11ef-9500-107b4419808b">
                        <div class="tag project8d9f5c05-ea3a-11ef-9500-107b4419808b"
                            style="background-color: rgb(251,224,224);">Третий проект</div>
                    </label></div>
            </div>

            <div class="command_panel_buttons">
                <div id="update_svg">
                    <!--?xml version="1.0" encoding="UTF-8"?-->
                    <!-- The Best Svg Icon site in the world: iconSvg.co, Visit us! https://iconsvg.co -->
                    <svg fill="#8c8c8c" stroke="#8c8c8c" width="32" height="32" style="pointer-events: none; version="
                        viewbox="144 144 512 512" xmlns="http://www.w3.org/2000/svg">
                        <g id="IconSvg_bgCarrier" stroke-width="0"></g>
                        <g id="IconSvg_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC"
                            stroke-width="0">
                            <path xmlns="http://www.w3.org/2000/svg"
                                d="m387.4 203.36c-96.539 0.89453-179.1 42.605-214.12 101.71 36.559-24.383 86.039-39.359 140.44-39.359 82.738 0 153.97 34.656 185.94 84.387l-30.547 23.457 157.6 48.492-6.4531-164.84-30.699 23.617c-62.805-50.465-113.38-78.281-202.16-77.461zm-214.12 174.6 6.4531 164.84 30.703-23.617c62.801 50.465 113.38 78.281 202.15 77.461 96.539-0.89453 179.1-42.605 214.12-101.71-36.559 24.383-86.039 39.359-140.44 39.359-82.738 0-153.97-34.656-185.94-84.387l30.547-23.457z"
                                fill-rule="evenodd"></path>
                        </g>
                    </svg>
                </div>
                <div id="setup_svg">
                    <!--?xml version="1.0" encoding="UTF-8"?-->
                    <!-- The Best Svg Icon site in the world: iconSvg.co, Visit us! https://iconsvg.co -->
                    <svg fill="#7f7a7a" stroke="#7f7a7a" width="32" height="32" style="pointer-events: none; version="
                        viewbox="144 144 512 512" xmlns="http://www.w3.org/2000/svg">
                        <g id="IconSvg_bgCarrier" stroke-width="0"></g>
                        <g id="IconSvg_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC"
                            stroke-width="0">
                            <g xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="m431.49 636.16h-62.977c-3.4219 0-6.75-1.1172-9.4805-3.1797-2.7344-2.0586-4.7188-4.9531-5.6562-8.2461l-18.973-66.375-60.348 33.516v0.003906c-2.9922 1.668-6.4414 2.3125-9.832 1.8359-3.3906-0.47266-6.5312-2.043-8.9492-4.4648l-44.52-44.527c-2.418-2.4141-3.9883-5.5547-4.4609-8.9453-0.47656-3.3867 0.16406-6.8359 1.8242-9.8281l33.523-60.363-66.387-18.957c-3.2891-0.94141-6.1836-2.9297-8.2422-5.6602-2.0586-2.7344-3.1719-6.0625-3.1758-9.4805v-62.977c0.003906-3.4219 1.1172-6.75 3.1758-9.4844 2.0586-2.7305 4.9531-4.7188 8.2422-5.6602l66.391-18.957-33.527-60.363c-1.6602-2.9922-2.3008-6.4414-1.8242-9.8281 0.47266-3.3867 2.043-6.5273 4.4609-8.9453l44.52-44.52c2.4141-2.4258 5.5586-3.9961 8.9492-4.4688 3.3906-0.47656 6.8438 0.17188 9.832 1.8398l60.348 33.516 18.973-66.375v0.003906c0.9375-3.293 2.9219-6.1875 5.6523-8.25 2.7305-2.0625 6.0586-3.1797 9.4844-3.1836h62.977c3.4219 0.003906 6.75 1.1172 9.4844 3.1797 2.7305 2.0625 4.7188 4.957 5.6562 8.2461l18.961 66.375 60.359-33.52c2.9922-1.6641 6.4414-2.3086 9.8281-1.832 3.3906 0.47266 6.5312 2.0391 8.9453 4.4609l44.527 44.527c2.418 2.418 3.9805 5.5586 4.457 8.9453 0.47266 3.3867-0.16797 6.8359-1.8281 9.8281l-33.516 60.363 66.375 18.957h-0.003906c3.293 0.94141 6.1875 2.9258 8.2461 5.6602 2.0625 2.7305 3.1797 6.0586 3.1797 9.4844v62.977c0 3.4219-1.1172 6.75-3.1797 9.4844-2.0586 2.7305-4.9531 4.7188-8.2461 5.6562l-66.371 18.961 33.516 60.359c1.6602 2.9922 2.3008 6.4414 1.8281 9.8281-0.47656 3.3867-2.0391 6.5273-4.457 8.9453l-44.527 44.527c-2.4141 2.4258-5.5547 3.9922-8.9453 4.4688-3.3867 0.47656-6.8398-0.17188-9.8281-1.8398l-60.363-33.516-18.957 66.375v-0.003906c-0.9375 3.293-2.9258 6.1875-5.6562 8.2461-2.7344 2.0625-6.0625 3.1797-9.4844 3.1797zm-51.098-31.488h39.23l21.141-74.031h-0.003907c1.3164-4.6211 4.6719-8.3867 9.1094-10.227 4.4414-1.8398 9.4766-1.5508 13.676 0.78125l67.312 37.391 27.734-27.734-37.391-67.312c-2.332-4.1992-2.6211-9.2383-0.78125-13.676 1.8398-4.4375 5.6094-7.793 10.227-9.1094l74.027-21.137v-39.238l-74.031-21.141c-4.6211-1.3164-8.3867-4.6719-10.227-9.1094-1.8398-4.4375-1.5508-9.4766 0.78125-13.676l37.391-67.312-27.73-27.734-67.312 37.391c-4.1992 2.332-9.2344 2.6211-13.676 0.78125-4.4375-1.8398-7.793-5.6055-9.1094-10.227l-21.141-74.027h-39.23l-21.156 74.031c-1.3164 4.6211-4.6719 8.3867-9.1094 10.227-4.4375 1.8398-9.4766 1.5547-13.676-0.78125l-67.305-37.395-27.734 27.734 37.391 67.312c2.332 4.1992 2.6211 9.2344 0.78516 13.672-1.8359 4.4375-5.6016 7.793-10.219 9.1133l-74.039 21.141v39.238l74.039 21.141c4.6172 1.3203 8.3828 4.6758 10.219 9.1133 1.8359 4.4414 1.5469 9.4727-0.78516 13.672l-37.391 67.312 27.734 27.734 67.305-37.391c4.1992-2.332 9.2383-2.6211 13.676-0.78125 4.4375 1.8398 7.793 5.6094 9.1094 10.227z">
                                </path>
                                <path
                                    d="m400 478.72c-20.879 0-40.902-8.293-55.664-23.055-14.766-14.766-23.059-34.789-23.059-55.664 0-20.879 8.293-40.902 23.059-55.664 14.762-14.766 34.785-23.059 55.664-23.059 20.875 0 40.898 8.293 55.664 23.059 14.762 14.762 23.055 34.785 23.055 55.664-0.023438 20.867-8.3281 40.879-23.082 55.637-14.758 14.754-34.77 23.059-55.637 23.082zm0-125.95c-12.527 0-24.543 4.9766-33.398 13.836-8.8594 8.8555-13.836 20.871-13.836 33.398 0 12.523 4.9766 24.539 13.836 33.398 8.8555 8.8555 20.871 13.832 33.398 13.832 12.523 0 24.539-4.9766 33.398-13.832 8.8555-8.8594 13.832-20.875 13.832-33.398-0.011719-12.523-4.9961-24.531-13.848-33.383-8.8555-8.8555-20.863-13.836-33.383-13.852z">
                                </path>
                            </g>
                        </g>
                    </svg>
                </div>

                <a id="my_tasks" class="my_tasks user5127bf5c-9ae0-11ef-94b1-107b4419808b" href="">Только мои задачи</a>

            </div>

        </div>

        <div id="kanban-board">

            <div class="kanban_header">
                <div class="block_header"><strong class="kanban-block__name">Зарегистрирована</strong><strong
                        class="kanban-block__number">12</strong></div>
                <div class="block_header"><strong class="kanban-block__name">В процессе выполнения</strong><strong
                        class="kanban-block__number">2</strong></div>
                <div class="block_header"><strong class="kanban-block__name">На тестировании</strong><strong
                        class="kanban-block__number">0</strong></div>
                <div class="block_header"><strong class="kanban-block__name">К переносу в рабочую</strong><strong
                        class="kanban-block__number">0</strong></div>
                <div class="block_header"><strong class="kanban-block__name">Готово</strong><strong
                        class="kanban-block__number">0</strong></div>
                <div class="block_header"><strong class="kanban-block__name">Backlog</strong><strong
                        class="kanban-block__number">0</strong></div>
                <div class="block_header"><strong class="kanban-block__name">Отменена</strong><strong
                        class="kanban-block__number">0</strong></div>
                <div class="block_header"><strong class="kanban-block__name">Запрос на добавление</strong><strong
                        class="kanban-block__number">1</strong></div>
            </div>
            <div class="kanban_body">
                <div class="kanban-block" id="a1ca3366-c296-11ee-93e4-107b4419808b" ondragover="allowDrop(event)">
                    <div class="card project8d9f5c05-ea3a-11ef-9500-107b4419808b " draggable="true"
                        ondragstart="drag(event)" id="task27c345a8-042a-11f0-9507-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(251,224,224);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9507107b4419808b11f0042a27c345a8">Задача
                                №14</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Четвертый эпик</span></div><button
                            class="changeStatus task27c345a8-042a-11f0-9507-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8e7227e2-c296-11ee-93e4-107b4419808b user8e7227e4-c296-11ee-93e4-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task6251cc3c-f606-11ef-9500-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(238,130,238);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9500107b4419808b11eff6066251cc3c">Задача
                                №4</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Первая задача первого эпика</span></div><button
                            class="changeStatus task6251cc3c-f606-11ef-9500-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8e7227e2-c296-11ee-93e4-107b4419808b user8e7227e4-c296-11ee-93e4-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task6251cc3e-f606-11ef-9500-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(238,130,238);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9500107b4419808b11eff6066251cc3e">Задача
                                №5</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Вторая задача первого эпика</span></div><button
                            class="changeStatus task6251cc3e-f606-11ef-9500-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8d9f5c04-ea3a-11ef-9500-107b4419808b user5127bf5c-9ae0-11ef-94b1-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task6251cc42-f606-11ef-9500-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(204,255,204);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9500107b4419808b11eff6066251cc42">Задача
                                №7</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Первая задача второго эпика</span></div><button
                            class="changeStatus task6251cc42-f606-11ef-9500-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8d9f5c04-ea3a-11ef-9500-107b4419808b user5127bf5c-9ae0-11ef-94b1-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task6251cc43-f606-11ef-9500-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(204,255,204);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9500107b4419808b11eff6066251cc43">Задача
                                №8</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Вторая задача второго эпика</span></div><button
                            class="changeStatus task6251cc43-f606-11ef-9500-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8d9f5c05-ea3a-11ef-9500-107b4419808b user0ce47597-de78-11ef-94fc-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task6251cc45-f606-11ef-9500-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(251,224,224);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9500107b4419808b11eff6066251cc45">Задача
                                №10</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Первая задача третьего эпика</span></div><button
                            class="changeStatus task6251cc45-f606-11ef-9500-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8d9f5c05-ea3a-11ef-9500-107b4419808b user0ce47597-de78-11ef-94fc-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task6251cc49-f606-11ef-9500-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(251,224,224);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9500107b4419808b11eff6066251cc49">Задача
                                №12</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Третья задача третьего эпика</span></div><button
                            class="changeStatus task6251cc49-f606-11ef-9500-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8e7227e2-c296-11ee-93e4-107b4419808b user8e7227e4-c296-11ee-93e4-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task6251cc40-f606-11ef-9500-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(238,130,238);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9500107b4419808b11eff6066251cc40">Задача
                                №6</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Третья задача первого эпика</span></div><button
                            class="changeStatus task6251cc40-f606-11ef-9500-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8e7227e2-c296-11ee-93e4-107b4419808b user0ce47597-de78-11ef-94fc-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="taskb5c689c0-f6d2-11ef-9503-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(238,130,238);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9503107b4419808b11eff6d2b5c689c0">Задача
                                №13</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Четвертая задача первого эпика</span></div><button
                            class="changeStatus taskb5c689c0-f6d2-11ef-9503-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8d9f5c04-ea3a-11ef-9500-107b4419808b user5127bf5c-9ae0-11ef-94b1-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task6251cc44-f606-11ef-9500-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(204,255,204);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9500107b4419808b11eff6066251cc44">Задача
                                №9</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Третья задача второго эпика</span></div><button
                            class="changeStatus task6251cc44-f606-11ef-9500-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8d9f5c05-ea3a-11ef-9500-107b4419808b user0ce47597-de78-11ef-94fc-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task6251cc47-f606-11ef-9500-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(251,224,224);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9500107b4419808b11eff6066251cc47">Задача
                                №11</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Вторая задача третьего эпика</span></div><button
                            class="changeStatus task6251cc47-f606-11ef-9500-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8d9f5c05-ea3a-11ef-9500-107b4419808b user0ce47597-de78-11ef-94fc-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task27c345a9-042a-11f0-9507-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(251,224,224);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=9507107b4419808b11f0042a27c345a9">Задача
                                №15</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Первая задача четвертого эпика</span></div><button
                            class="changeStatus task27c345a9-042a-11f0-9507-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                </div>
                <div class="kanban-block" id="a1ca3363-c296-11ee-93e4-107b4419808b" ondragover="allowDrop(event)">
                    <div class="card project8e7227e2-c296-11ee-93e4-107b4419808b user8e7227e4-c296-11ee-93e4-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task8e7227e3-c296-11ee-93e4-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(238,130,238);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=93e4107b4419808b11eec2968e7227e3">Задача
                                №1</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Первый эпик</span></div><button
                            class="changeStatus task8e7227e3-c296-11ee-93e4-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                    <div class="card project8d9f5c04-ea3a-11ef-9500-107b4419808b user0ce47597-de78-11ef-94fc-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task26933748-db5e-11ef-94fc-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(204,255,204);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=94fc107b4419808b11efdb5e26933748">Задача
                                №2</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Второй эпик</span></div><button
                            class="changeStatus task26933748-db5e-11ef-94fc-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                </div>
                <div class="kanban-block" id="a1ca3368-c296-11ee-93e4-107b4419808b" ondragover="allowDrop(event)"></div>
                <div class="kanban-block" id="a1ca3367-c296-11ee-93e4-107b4419808b" ondragover="allowDrop(event)"></div>
                <div class="kanban-block" id="a1ca3364-c296-11ee-93e4-107b4419808b" ondragover="allowDrop(event)"></div>
                <div class="kanban-block" id="a1ca3361-c296-11ee-93e4-107b4419808b" ondragover="allowDrop(event)"></div>
                <div class="kanban-block" id="a1ca336b-c296-11ee-93e4-107b4419808b" ondragover="allowDrop(event)"></div>
                <div class="kanban-block" id="a1ca3365-c296-11ee-93e4-107b4419808b" ondragover="allowDrop(event)">
                    <div class="card project8d9f5c05-ea3a-11ef-9500-107b4419808b user5127bf5c-9ae0-11ef-94b1-107b4419808b"
                        draggable="true" ondragstart="drag(event)" id="task0efde98b-dc1d-11ef-94fc-107b4419808b">
                        <div class="card__header">
                            <div class="tag_task" style="background-color: rgb(251,224,224);"></div><a
                                class="card__link"
                                href="e1c://filev/D/1С/_1C_BASE/Управление задачами#e1cib/data/Справочник.узЗадачи?ref=94fc107b4419808b11efdc1d0efde98b">Задача
                                №3</a><img class="card__photo" alt="foto"></img>
                        </div>
                        <div class="card__text"><span>Третий эпик</span></div><button
                            class="changeStatus task0efde98b-dc1d-11ef-94fc-107b4419808b"
                            style="visibility: hidden;"></button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    
    <script>

        let my_tasks = document.querySelector('#my_tasks');
        let actualUserId = my_tasks.classList[1];
        my_tasks.addEventListener('click', function () {
            my_tasks.classList.toggle('my_tasks_active');
            let tasks = document.querySelectorAll('.card');
            tasks.forEach(function (item) {
                let tag = document.querySelector(`.tag.${item.classList[1]}`);

                if (!item.classList.contains(actualUserId) && !tag.classList.contains('tag__inactive')) {
                    item.classList.toggle('card__inactive');
                }
            });
            RecalculateKanbanBlock();
        });

        function drag(event) {
            event.dataTransfer.setData("text", event.target.id);
        }

        function allowDrop(event) {
            event.preventDefault();
        }

        dropZones = document.querySelectorAll(".kanban-block");
        dropZones.forEach(function (item) {
            item.addEventListener("drop", (event) => {

                event.preventDefault();

                // Перетаскиваем элемент в другую колонку статуса, что бы получить его в платформе 1С
                const data = event.dataTransfer.getData("text");
                const draggedElement = document.getElementById(data);
                const lastStatus = draggedElement.parentElement;
                if (item == lastStatus) {
                    return;
                }
                item.appendChild(draggedElement);

                // Вызываем событие в платформе 1С
                const taskButton = document.querySelector(`.${data}`);
                taskButton.click();

                // Возвращаем элемент в исходную колонку статуса
                item.removeChild(draggedElement);
                lastStatus.appendChild(draggedElement);

            });
        });

        function RecalculateKanbanBlock() {
            // Рассчитываем количество задач в каждом блоке
            let blocks = document.querySelectorAll('.kanban-block');
            blocks.forEach((item, index) => {
                let tasks = item.querySelectorAll('.card:not(.card__inactive)');
                let block_header = document.querySelectorAll('.block_header')[index];
                let number = block_header.querySelector('.kanban-block__number');
                number.innerHTML = tasks.length;
            });
        }

        RecalculateKanbanBlock();

        function checkFluency(id, tag) {

            driveCheckbox = document.querySelector(`.${id}`);
            driveCheckbox.classList.toggle('tag__inactive');

            selector = `.card.${tag}`;
            driveCards = document.querySelectorAll(selector);
            driveCards.forEach(element => {
                if (my_tasks.classList.contains('my_tasks_active')) {
                    if (element.classList.contains(actualUserId)) {
                        element.classList.toggle('card__inactive');
                    }
                } else {
                    element.classList.toggle('card__inactive');
                }
            });

            RecalculateKanbanBlock();
        }

        /* Масштабирование страницы +++ */
        // Текущий масштаб (по умолчанию 100%)
        let currentZoom = 100;
        const minZoom = 60;
        const maxZoom = 140;
        const zoomStep = 10;

        // Элементы управления
        const zoomDisplay = document.getElementById('zoom-display');
        const zoomInBtn = document.getElementById('zoom-in');
        const zoomOutBtn = document.getElementById('zoom-out');

        // Функция обновления масштаба страницы
        function updatePageZoom() {
            // Применяем zoom ко всему body
            document.body.style.zoom = `${currentZoom}%`;
            zoomDisplay.textContent = `${currentZoom}%`;
            
            // Отключаем кнопки при достижении границ
            zoomInBtn.disabled = currentZoom >= maxZoom;
            zoomOutBtn.disabled = currentZoom <= minZoom;
        }

        // Обработчики кнопок
        zoomInBtn.addEventListener('click', () => {
            if (currentZoom < maxZoom) {
                currentZoom += zoomStep;
                updatePageZoom();
            }
        });

        zoomOutBtn.addEventListener('click', () => {
            if (currentZoom > minZoom) {
                currentZoom -= zoomStep;
                updatePageZoom();
            }
        });

        // Обработчик клавиатуры
        document.addEventListener('keydown', function(e) {
            
            // Проверяем, что нажат Ctrl (или Cmd на Mac)
            if (e.ctrlKey || e.metaKey) {
                var key = e.keyCode || e.which; // Для максимальной совместимости
                
                // console.log('fsdfsdfsd');
                // console.log(e.key);

                // Обрабатываем "+" (и "=", так как это одна клавиша без Shift)
                if (key === 187 || key === 61) { // 187 = '+', 61 = '=' (некоторые старые браузеры)
                    e.preventDefault(); // Отменяем стандартное поведение браузера
                    if (currentZoom < maxZoom) {
                        currentZoom += zoomStep;
                        updatePageZoom();
                    }
                } 
                // Обрабатываем "-" (и "_", но без Shift)
                else if (key === 189 || key === 173) { // 189 = '-', 173 = '_' (в некоторых браузерах)
                    e.preventDefault();
                    if (currentZoom > minZoom) {
                        currentZoom -= zoomStep;
                        updatePageZoom();
                    }
                } 
                // Сброс масштаба по Ctrl+0 (код клавиши "0" = 48)
                else if (key === 48) { 
                    e.preventDefault();
                    currentZoom = 100;
                    updatePageZoom();
                }
            }

        });

        // Инициализация
        updatePageZoom();
        /* Масштабирование страницы --- */

    </script>
</body>

</html>